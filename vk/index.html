<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Доступ к ВК</title>

    <!--<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>-->
    <!--<link rel="stylesheet" href="style.css" />-->

</head>
<body>
<form>
    <input type="text" id="name" placeholder="Иванов Петр Николаевич"><br>
    <input type="text" id="phone" placeholder="+79264443333"><br>
    <input type="text" id="mail" placeholder="inf@yyy.ru">
    <p class="vk" onclick="VK.Auth.login(authInfo, 7);">Заполнить через ВКонтакте</p>
</form>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="https://vk.com/js/api/openapi.js" type="text/javascript"></script>
<script type="text/javascript">
    VK.init({
        apiId: 6085581
    });
    function authInfo(response) {
        if (response.session) {
            var id = response.session.mid;
            alert("урааа")
        }
        VK.Api.call('users.get', {uids: id, fields: 'contacts'}, function(r) {
            if (r.response) {
                if (r.response[0].first_name) {
                    jQuery("#name").val(r.response[0].first_name + ' ' + r.response[0].last_name);
                }
                if (r.response[0].mobile_phone) {
                    jQuery("#phone").val(r.response[0].mobile_phone);
                } else if (r.response[0].home_phone) {
                    jQuery("#phone").val(r.response[0].home_phone);
                }
            }
        });

    }
    // VK.Auth.getLoginStatus(authInfo);
</script>
</body>
</html>
